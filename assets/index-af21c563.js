import{j as e,r as n,a as Y}from"./react-40402f93.js";import{c as X}from"./react-dom-8f3747d7.js";import{B as J}from"./react-router-dom-9d50e644.js";import{g as P,s as Q,a as Z,i as ee,b as se,c as B,d as M,e as ne,f as te,h as ae,q as k,w as T,j as le,u as ie,k as H,l as ce,m as re,n as oe,o as de,p as he}from"./@firebase-26668603.js";import{M as F}from"./react-bootstrap-0a5ea283.js";import"./firebase-61253280.js";import{S as ue}from"./react-select-ea9c951b.js";import{u as w,a as xe,b as S}from"./react-router-e1731cab.js";import{L as me}from"./yet-another-react-lightbox-057214ce.js";import"./classnames-443a910e.js";import"./scheduler-765c72db.js";import"./@remix-run-9896d328.js";import"./tslib-6635c9de.js";import"./idb-81bdbf9b.js";import"./dom-helpers-29a8c434.js";import"./@restart-09a91c66.js";import"./react-transition-group-2a61f0a7.js";import"./@babel-b289c67c.js";import"./prop-types-0d7f4af5.js";import"./@emotion-f041fc2a.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./stylis-79144faa.js";import"./@floating-ui-3621eec6.js";import"./use-isomorphic-layout-effect-795a8e8f.js";import"./memoize-one-297ddbcb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const x of a.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&l(x)}).observe(document,{childList:!0,subtree:!0});function o(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(c){if(c.ep)return;c.ep=!0;const a=o(c);fetch(c.href,a)}})();function U(){return e.jsx("svg",{width:"48px",height:"48px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{style:{fill:"#002f34"},d:"M661.333 256v512h-128v-512h128zM277.333 298.667c117.824 0 213.333 95.531 213.333 213.333s-95.509 213.333-213.333 213.333c-117.824 0-213.333-95.531-213.333-213.333s95.509-213.333 213.333-213.333zM794.496 384l37.504 37.504 37.504-37.504h90.496v90.496l-37.504 37.504 37.504 37.504v90.496h-90.496l-37.504-37.504-37.504 37.504h-90.496v-90.496l37.504-37.504-37.504-37.504v-90.496h90.496zM277.333 426.667c-47.061 0-85.333 38.293-85.333 85.333s38.272 85.333 85.333 85.333c47.061 0 85.333-38.293 85.333-85.333s-38.272-85.333-85.333-85.333z"})})}function I(s){return e.jsx("svg",{width:"25px",height:"25px",viewBox:"0 0 1024 1024","data-aut-id":"icon",color:s.color?s.color:"",fillRule:"evenodd",children:e.jsx("path",{className:"rui-77aaa",d:"M448 725.333c-152.917 0-277.333-124.416-277.333-277.333s124.416-277.333 277.333-277.333c152.917 0 277.333 124.416 277.333 277.333s-124.416 277.333-277.333 277.333v0zM884.437 824.107v0.021l-151.915-151.936c48.768-61.781 78.144-139.541 78.144-224.192 0-199.979-162.688-362.667-362.667-362.667s-362.667 162.688-362.667 362.667c0 199.979 162.688 362.667 362.667 362.667 84.629 0 162.411-29.376 224.171-78.144l206.144 206.144h60.352v-60.331l-54.229-54.229z"})})}function $(){return e.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{className:"rui-77aaa",d:"M85.392 277.333h60.331l366.336 366.336 366.336-366.336h60.331v60.331l-408.981 409.003h-35.307l-409.045-409.003z"})})}function pe(){return e.jsx("svg",{width:104,height:48,viewBox:"0 0 1603 768",className:"_3V9PS",children:e.jsxs("g",{children:[e.jsx("path",{className:"all",d:"M434.442 16.944h718.82c202.72 0 367.057 164.337 367.057 367.058s-164.337 367.057-367.057 367.057h-718.82c-202.721 0-367.058-164.337-367.058-367.058s164.337-367.058 367.058-367.058z"}),e.jsx("path",{className:"left",d:"M427.241 669.489c-80.917 0-158.59-25.926-218.705-73.004l-0.016-0.014c-69.113-54.119-108.754-131.557-108.754-212.474 0-41.070 9.776-80.712 29.081-117.797 25.058-48.139 64.933-89.278 115.333-118.966l-52.379-67.581c-64.73 38.122-115.955 90.98-148.159 152.845-24.842 47.745-37.441 98.726-37.441 151.499 0 104.027 50.962 203.61 139.799 273.175h0.016c77.312 60.535 177.193 93.887 281.22 93.887h299.699l25.138-40.783-25.138-40.783h-299.698z"}),e.jsx("path",{className:"top",d:"M1318.522 38.596v0c-45.72-14.369-93.752-21.658-142.762-21.658h-748.511c-84.346 0-165.764 21.683-235.441 62.713l3.118 51.726 49.245 15.865c54.16-31.895 117.452-48.739 183.073-48.739h748.511c38.159 0 75.52 5.657 111.029 16.829v0c44.91 14.111 86.594 37.205 120.526 66.792l66.163-57.68c-43.616-38.010-97.197-67.703-154.957-85.852z"}),e.jsx("path",{className:"right",d:"M1473.479 124.453l-55.855 9.91-10.307 47.76c61.844 53.929 95.92 125.617 95.92 201.88 0 25.235-3.772 50.26-11.214 74.363-38.348 124.311-168.398 211.129-316.262 211.129h-448.812l25.121 40.783-25.121 40.783h448.812c190.107 0 357.303-111.638 406.613-271.498 9.572-31.009 14.423-63.162 14.423-95.559 0-98.044-43.805-190.216-123.317-259.551z"})]})})}function je(s){return e.jsx("svg",{width:"16px",height:"16px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{className:"rui-367TP",d:"M414.898 123.739v291.218h-291.218l-97.014 97.014 97.014 97.131h291.218v291.16l97.073 97.071 97.073-97.071v-291.16h291.16l97.131-97.131-97.131-97.014h-291.16v-291.218l-97.073-97.073z"})})}const y=n.createContext(null);function ve({children:s}){const[t,o]=n.useState(null);return e.jsx(y.Provider,{value:{user:t,setUser:o},children:s})}const g=n.createContext(null);function ge(){const{Firebase:s}=n.useContext(g),{user:t,setUser:o}=n.useContext(y),l=P(s),c=()=>{Q(l).then(()=>{o(null)})};return e.jsx("div",{children:e.jsx("span",{onClick:c,children:"Logout"})})}function fe({handleCloseModal:s}){const[t,o]=n.useState({email:"",password:""}),[l,c]=n.useState(!1),a=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g,{Firebase:x}=n.useContext(g),d=P(x),[i,u]=n.useState({status:!1,message:""}),r=m=>{o({...t,[m.target.name]:m.target.value}),u({...i,status:!1})};n.useEffect(()=>{t.email.match(a)?c(!0):c(!1)},[t]);const h=()=>{console.log(t),Z(d,t.email,t.password).then(m=>{s()}).catch(m=>{console.log(m),m.code==="auth/user-not-found"?u({status:!0,message:"User not registered"}):m.code==="auth/wrong-password"?u({status:!0,message:"Invalid password"}):m.code==="auth/too-many-requests"&&u({status:!0,message:"Too many login attempts.This account is temporarily suspended, please try again"})})};return e.jsx("div",{children:e.jsxs("div",{className:"login-centerDiv",children:[e.jsx("h3",{className:"log-Mail",children:e.jsx("span",{children:"Enter your email to login"})}),e.jsx("input",{onChange:m=>r(m),name:"email",className:"w-100",type:"text",placeholder:"Email"}),l&&e.jsx("input",{onChange:m=>r(m),name:"password",className:"w-100 mt-1",type:"text",placeholder:"password"}),e.jsx("div",{className:"info mt-2",children:e.jsx("p",{children:"If you are a new user please select any other login option from previous page."})}),i.status&&e.jsx("div",{className:"error",children:i.message}),e.jsx("button",{onClick:h,className:`nextBtn  w-100 mt-2 ${l?"nextEnabled":"nextDisabled"}`,disabled:!l,children:"Login"}),e.jsx("div",{className:"disclaimer  mt-1",children:e.jsx("p",{children:"Your email is never shared with external parties nor do we use it to spam you in any way."})})]})})}function q({default_width:s="25px",default_height:t="25px"}){return e.jsx("svg",{width:s,height:t,viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M878.336 85.333l-366.336 366.315-366.336-366.315h-60.331v60.331l366.336 366.336-366.336 366.336v60.331h60.331l366.336-366.336 366.336 366.336h60.331v-60.331l-366.315-366.336 366.315-366.336v-60.331z"})})}function Ne({showModal:s,handleCloseModal:t,contentComponent:o}){return e.jsx(F,{className:"header-modal",style:{width:"30dvw",marginLeft:"38%"},show:s,onHide:t,children:e.jsxs(F.Body,{style:{padding:"0.5rem"},children:[e.jsx("div",{className:"d-flex justify-content-end align-items-center closeBtnDiv",children:e.jsx("span",{"data-aut-id":"btnClose",onClick:t,children:e.jsx(q,{})})}),e.jsx("div",{className:"w-100 text-center",children:e.jsx(U,{})}),o(t)]})})}const D=n.createContext();function be({children:s}){const[t,o]=n.useState("");return e.jsx(D.Provider,{value:{search:t,setSearch:o},children:s})}function we(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M744.747 124.16l38.4 33.28 36.949 258.731 107.221 107.179 11.349 27.435v193.963l-38.827 38.784h-38.741v116.352h-77.568v-116.352h-543.061v116.352h-77.568v-116.352h-38.741l-38.827-38.827v-193.877l11.349-27.435 107.264-107.221 36.949-258.731 38.4-33.28h465.493zM768.555 474.325h-513.109l-92.544 92.501v139.093h698.197v-139.093l-92.544-92.501zM298.667 550.784c32.128 0 58.197 26.027 58.197 58.197 0 32.128-26.027 58.155-58.197 58.155-32.128 0-58.197-26.027-58.197-58.155s26.027-58.197 58.197-58.197zM725.333 550.784c32.128 0 58.197 26.027 58.197 58.197 0 32.128-26.027 58.155-58.197 58.155-32.128 0-58.197-26.027-58.197-58.155s26.027-58.197 58.197-58.197zM711.083 201.685h-398.165l-27.904 195.115h453.888l-27.861-195.072z"})})}function ye(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M674.657 245.333l47.813 129.715 23.448-51.706h51.11l26.563 33.51v80.171h-78.406l26.746 72.064h9.892c75.576 0 136.843 60.253 136.843 134.579s-61.267 134.579-136.843 134.579c-59.691-0.227-112.346-38.479-130.112-94.523s3.455-116.947 52.44-150.495v0l2.931-1.982-28.578-78.189-77.49 225.74h-167.070v3.243c-19.579 65.476-85.893 106.172-154.3 94.693s-117.248-71.498-113.643-139.654c3.605-68.156 58.515-122.867 127.764-127.303s130.911 42.808 143.476 109.928v0 3.783h122.554l22.716-66.839h-121.455l-61.735-80.171h-197.662l-58.071 132.598-36.638 9.008-21.616-28.826 69.796-168.089h228.255l64.849-62.696h196.197l-16.304-44.319h-89.763v-68.821h136.294zM796.845 577.368l25.463 69.362-20.884 31.888-43.233-6.306-26.746-75.307-5.129 6.846v0.54c-17.559 23.523-17.878 55.449-0.79 79.306s47.76 34.314 76.196 25.976c28.435-8.338 48.277-33.608 49.289-62.772s-17.032-55.706-44.823-65.931v0l-9.343-3.603zM365.248 616.823c-12.157-27.922-41.767-44.432-72.372-40.354s-54.681 27.74-58.847 57.836c-4.166 30.096 12.603 59.227 40.986 71.201s61.403 3.848 80.707-19.861v0l5.862-7.387-85 0.18v-57.111l29.86-18.016 30.41 19.818h31.142zM627.943 413.233h-153.88l-31.142 33.568 32.791 46.432h128.233l23.998-80zM318.667 345.333v66.667h-133.333v-66.667h133.333z"})})}function Ce(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M743.68 85.333l66.987 67.84v701.227l-63.573 84.267h-471.253l-62.507-85.333v-700.373l67.627-67.627h462.72zM708.053 170.667h-391.893l-17.493 17.707v637.653l20.053 27.307h385.92l21.333-27.52v-637.653l-17.92-17.493zM512 682.667c23.564 0 42.667 19.103 42.667 42.667s-19.103 42.667-42.667 42.667c-23.564 0-42.667-19.103-42.667-42.667s19.103-42.667 42.667-42.667z"})})}function Se(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M149.76 128l-64.427 62.848v480.853l69.333 67.84h317.781l0.725 75.477h-169.6v80.981h416.128v-80.981h-161.621l-0.683-75.435h315.648l65.621-68.693v-482.389l-75.733-60.501h-713.173zM170.24 638.72v-414.848l15.232-14.848h646.656l21.632 17.28v413.184l-18.176 19.072h-645.12l-20.224-19.84z"})})}function Me(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M268.748 91.803l-70.244 96.818v124.45l-24.559-0.152-82.195 104.783v430.333h152.539v75.637h91.975v-75.637h333.816v75.637h91.975v-75.637h170.135v-436.888l-82.295-97.219h-4.335v-117.692l-78.665-104.431h-498.206zM429.605 396.172l-79.319-82.195-59.755-0.353v-95.152l25.112-34.692h405.422l32.524 43.213v86.934h-87.64l-65.504 77.403v75.284h-170.792v-70.444zM183.829 449.472l34.743-44.274 92.48 0.505 26.626 27.632v125.207h354.845v-133.528l16.137-19.111h98.633l32.977 38.93v311.176h-656.49v-306.588z"})})}function Pe(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M708.012 340.654v471.101h-391.011v-471.101h-116.125l48.317-144.445 32.889-26.596h106.075c17.154 51.007 65.474 87.906 122.014 87.906s104.908-36.899 122.062-87.906h101.002l28.423 17.258 56.135 153.784h-109.781zM827.639 132.662l-71.867-43.647h-197.179l-0.252 40.097c-0.204 26.393-21.824 47.809-48.165 47.809-26.393 0-47.964-21.468-48.116-47.861l-0.304-39.993h-208.092l-73.39 59.282-91.204 272.855h147.339v471.101h552.103v-471.101h144.397l-105.212-288.538z"})})}function ze(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M653.689 147.951l168.004 35.403 99.123 140.646-104.437 161.363-24.699 166.528-48.766 44.876v80.131l-78.051 100.6h-291.644l-78.521-105.184 0.336-75.789-50.86-37.2-53.461-171.971-99.76-163.964 98.543-139.806 162.335-35.46 301.86-0.167zM668.063 715.029h-298.247l-0.149 32.58 41.095 55.034h217.445l39.859-51.368v-36.246zM625.751 222.82l-249.539 0.13-111.211 251.167 43.32 139.375 36.472 26.684h349.054l27.675-25.451 20.378-137.43-116.152-254.479zM560.227 494.238v19.798l-55.651 50.581-54.605-48.092v-22.288h110.258zM714.622 237.285l71.616 156.89 44.277-68.377-53.050-75.262-62.838-13.248zM618.824 353.349c10.647 0 19.275 8.644 19.275 19.275 0 10.665-8.626 19.313-19.275 19.313s-19.295-8.644-19.295-19.313c0-10.627 8.644-19.275 19.295-19.275zM380.916 353.349c10.647 0 19.295 8.644 19.295 19.275 0 10.665-8.644 19.313-19.295 19.313s-19.295-8.644-19.295-19.313c0-10.627 8.644-19.275 19.295-19.275zM287.553 238.315l-53.5 12.013-53.649 76.086 39.447 64.822 67.702-152.923z"})})}function Re(){return e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{d:"M845.419 795.973l-18.078 18.059h-643.422l-18.078-18.059v-37.922l18.078-18.059h643.422l18.078 18.059v37.922zM198.941 562.396l43.308-63.059v-153.289c0-46.52 37.845-84.365 84.365-84.365h356.844c46.52 0 84.365 37.845 84.365 84.365v155.441l46.249 54.576v15.597h-615.134v-9.269zM859.19 663.070h-320.595v-14.48h352.403v-120.712l-46.249-54.576v-127.248c0-88.94-72.347-161.287-161.287-161.287h-144.863v-18.924h71.095v-76.922h-216.422v76.922h68.404v18.924h-135.058c-88.94 0-161.287 72.347-161.287 161.287v129.404l-43.308 63.040v110.096h339.653v14.48h-309.596l-63.155 63.136v101.616l63.155 63.136h707.114l63.155-63.136v-101.616l-63.155-63.136z"})})}const V=[{name:"Cars",icon:e.jsx(we,{}),brand:["Toyota","Honda","Ford","BMW","Audi","Tata","Maruti-Suzuki"]},{name:"Mobiles",icon:e.jsx(Ce,{}),brand:["Samsung","Apple","OnePlus","Oppo","Vivo","Realme","Mi"]},{name:"Bikes",icon:e.jsx(ye,{}),brand:["Bajaj","Yamaha","KTM","Royal Enfield","Honda","Hero","TVS","Suzuki","BMW","Ather"]},{name:"Electronics & Appliances",icon:e.jsx(Se,{})},{name:"Furniture",icon:e.jsx(Me,{}),type:["Tables","Chairs","Couches","Beds"]},{name:"Fashion",icon:e.jsx(Pe,{}),type:["Men","Women","Kids"]},{name:"Pets",icon:e.jsx(ze,{}),type:["Dog","Cat","Bird","Other"]},{name:"Services",icon:e.jsx(Re,{}),type:["Car Wash","Car Repair","Car Insurance","Car Rental","Car Cleaning"]}],Be={apiKey:"AIzaSyBARTz27MEJnAAqzLC8_rQqs_Pw_rbK9t0",authDomain:"olx-clone-39b02.firebaseapp.com",projectId:"olx-clone-39b02",storageBucket:"olx-clone-39b02.appspot.com",messagingSenderId:"734399304248",appId:"1:734399304248:web:247bf2fcf5b10c229bcccd",measurementId:"G-RELJT72C5L"},W=ee(Be),E=se(W),_=B(E,"users"),R=B(E,"products"),G=B(E,"locations");async function De(s){const t=ne(G,s);(await te(t)).exists()?console.log("Location already exists!"):(await ae(t,{name:s}),console.log("Location added!"))}async function Ee(){const s=[];return(await M(G)).forEach(o=>{s.push({value:o.data().name,label:o.data().name})}),console.log(s),s}function L(){const[s,t]=n.useState(!1),{user:o}=n.useContext(y),{setSearch:l}=n.useContext(D),[c,a]=n.useState(""),[x,d]=n.useState(!1),[i,u]=n.useState([]),r=w(),[h,m]=n.useState([]);n.useEffect(()=>{const p=V.flatMap(b=>[b.name,...b.brand||[],...b.type||[]]);u(p),Ee().then(b=>m(b))},[]),n.useEffect(()=>{d(c.length>0)},[c]);const v=()=>t(!0),f=()=>t(!1),N=()=>{l(c)},z=p=>{l(p.value)},j=()=>{a(""),d(!1)},C={control:p=>({...p,border:0,boxShadow:"none"})};return e.jsxs("div",{className:"headerParentDiv",children:[e.jsxs("div",{className:"headerChildDiv",children:[e.jsx("div",{className:"brandName",children:e.jsx("i",{onClick:()=>r("/"),children:e.jsx(U,{})})}),e.jsxs("div",{className:"placeSearch",children:[e.jsx(I,{}),e.jsx("div",{className:"w-100",children:e.jsx(ue,{styles:C,onChange:z,placeholder:"Search Places",options:h})})]}),e.jsxs("div",{className:"productSearch",children:[e.jsxs("div",{className:"input",children:[e.jsx("input",{type:"text",name:"productSearch",id:"productSearch",placeholder:"Find car, mobile phone and more...",list:"terms",value:c,onChange:p=>a(p.target.value)}),x&&e.jsx("datalist",{id:"terms",children:i.map(p=>e.jsx("option",{value:p},p))}),c.length>0&&e.jsx("button",{style:{all:"unset"},onClick:j,children:e.jsx(q,{default_width:"15px",default_height:"15px"})})]}),e.jsx("div",{className:"searchAction",onClick:N,role:"button",children:e.jsx(I,{color:"#ffffff"})})]}),e.jsxs("div",{className:"language",children:[e.jsx("span",{children:" ENGLISH "}),e.jsx($,{})]}),e.jsxs("div",{className:"loginPage",children:[o?`Welcome ${o.displayName}`:e.jsx("span",{onClick:v,children:"Login"}),e.jsx("hr",{})]}),o&&e.jsx("div",{className:"loginPage",children:e.jsx(ge,{})}),e.jsxs("div",{className:"sellMenu",children:[e.jsx(pe,{}),e.jsxs("div",{className:"sellMenuContent",onClick:()=>r("/post"),children:[e.jsx("i",{children:e.jsx(je,{})}),e.jsx("span",{children:"SELL"})]})]})]}),e.jsx(Ne,{showModal:s,handleCloseModal:f,contentComponent:p=>e.jsx(fe,{handleCloseModal:p})})]})}function Le(){return e.jsx("div",{className:"bannerParentDiv",children:e.jsxs("div",{className:"bannerChildDiv",children:[e.jsxs("div",{className:"menuBar d-flex align-items-center justify-content-center",children:[e.jsxs("div",{className:"categoryMenu",children:[e.jsx("span",{children:"ALL CATEGORIES"}),e.jsx($,{})]}),e.jsxs("div",{className:"otherQuickOptions",children:[e.jsx("span",{children:"Cars"}),e.jsx("span",{children:"Motorcycles"}),e.jsx("span",{children:"Mobile Phones"}),e.jsx("span",{children:"For Sale: Houses & Apartments"}),e.jsx("span",{children:"Scooters"}),e.jsx("span",{children:"Commercial & Other Vehicles"}),e.jsx("span",{children:"For Rent: Houses & Apartments"})]})]}),e.jsx("div",{className:"banner",children:e.jsx("img",{src:"../../../Images/banner copy.png",alt:""})})]})})}function O(){return e.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:e.jsx("path",{className:"rui-77aaa",d:"M830.798 448.659l-318.798 389.915-317.828-388.693c-20.461-27.171-31.263-59.345-31.263-93.033 0-85.566 69.605-155.152 155.152-155.152 72.126 0 132.752 49.552 150.051 116.364h87.777c17.299-66.812 77.905-116.364 150.051-116.364 85.547 0 155.152 69.585 155.152 155.152 0 33.687-10.802 65.862-30.293 91.811zM705.939 124.121c-80.853 0-152.204 41.425-193.939 104.204-41.736-62.778-113.086-104.204-193.939-104.204-128.33 0-232.727 104.378-232.727 232.727 0 50.657 16.194 98.948 47.806 140.897l328.766 402.133h100.189l329.716-403.355c30.662-40.727 46.856-89.018 46.856-139.675 0-128.349-104.398-232.727-232.727-232.727z"})})}const A=n.createContext(null);function Ae({children:s}){const[t,o]=n.useState({});return e.jsx(A.Provider,{value:{postDetails:t,setPostDetails:o},children:s})}function Fe(){const{search:s,setSearch:t}=n.useContext(D),[o,l]=n.useState([]),{setPostDetails:c}=n.useContext(A),a=w(),[x,d]=n.useState([]);return n.useEffect(()=>{if(s){console.log(s);const i=["brand","location","name","description","price","category"];let u=[];i.forEach(r=>{const h=k(R,T(r,"==",s));u.push(M(h))}),Promise.all(u).then(r=>{let h=[];r.forEach(m=>{m.forEach(v=>{h.some(f=>f.id===v.id)||h.push(v.data())})}),d(h)}).catch(r=>{console.log(r)})}console.log(x)},[s]),n.useEffect(()=>{M(R).then(i=>{const u=[];i.forEach(r=>{u.push(r.data())}),l(u)}).catch(i=>{console.error("Error fetching products:",i)})},[]),e.jsxs("div",{className:"postParentDiv d-flex align-items-center justify-content-center flex-column",children:[s&&e.jsxs("div",{className:"moreView ",children:[e.jsxs("div",{className:"heading",children:[e.jsxs("span",{children:[s," products"]}),e.jsx("span",{onClick:()=>t(""),children:"close"})]}),e.jsx("div",{className:"cards grid",children:x&&x.map((i,u)=>e.jsxs("div",{className:"card",onClick:()=>{c(i),a("/view")},children:[e.jsx("div",{className:"favorite",children:e.jsx(O,{})}),e.jsx("div",{className:"image",children:e.jsx("img",{style:{aspectRatio:"auto"},src:i.image,alt:""})}),e.jsxs("div",{className:"content",children:[e.jsxs("p",{className:"rate",children:["₹ ",i.price]}),e.jsx("span",{className:"kilometer",children:i.name}),e.jsxs("p",{className:"name",children:[" ",i.description]})]}),e.jsx("div",{className:"date",children:e.jsx("span",{children:i.createdAt})})]},u))})]}),e.jsx("br",{}),e.jsxs("div",{className:"recommendations",children:[e.jsx("div",{className:"heading",children:e.jsx("span",{children:"Fresh recommendations"})}),e.jsx("div",{className:"cards grid",children:o.map((i,u)=>e.jsxs("div",{className:"card p-2",onClick:()=>{c(i),a("/view")},children:[e.jsx("div",{className:"favorite",children:e.jsx(O,{})}),e.jsx("div",{className:"image",children:e.jsx("img",{src:i.image,alt:""})}),e.jsxs("div",{className:"content",children:[e.jsxs("p",{className:"rate",children:["₹ ",i.price]}),e.jsx("span",{className:"kilometer",children:i.name}),e.jsx("p",{className:"name",children:i.description})]}),e.jsxs("div",{className:"bottom d-flex flex-row justify-content-between",children:[e.jsx("div",{className:"date",children:e.jsx("span",{children:i.location})}),e.jsx("div",{className:"date",children:e.jsx("span",{children:i.createdAt})})]})]},u))})]})]})}function K(){const s=new Date;return e.jsxs("div",{className:"footerParentDiv",children:[e.jsxs("div",{className:"content",children:[e.jsxs("div",{children:[e.jsx("div",{className:"heading",children:e.jsx("p",{children:"POPULAR LOCATIONS"})}),e.jsx("div",{className:"list",children:e.jsxs("ul",{children:[e.jsx("li",{children:"kolkata"}),e.jsx("li",{children:"Mumbai"}),e.jsx("li",{children:"Chennai"}),e.jsx("li",{children:"Pune"})]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"heading",children:e.jsx("p",{children:"ABOUT US"})}),e.jsx("div",{className:"list",children:e.jsxs("ul",{children:[e.jsx("li",{children:"About OLX Group"}),e.jsx("li",{children:"Careers"}),e.jsx("li",{children:"Contact Us"}),e.jsx("li",{children:"OLXPeople"})]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"heading",children:e.jsx("p",{children:"OLX"})}),e.jsx("div",{className:"list",children:e.jsxs("ul",{children:[e.jsx("li",{children:"Help"}),e.jsx("li",{children:"Sitemap"}),e.jsx("li",{children:"Legal & Privacy information"})]})})]})]}),e.jsxs("div",{className:"footer",children:[e.jsx("p",{children:"Other Countries Pakistan - South Africa - Indonesia"}),e.jsxs("p",{children:["Free Classifieds in India. © 2006-",s.getUTCFullYear()," OLX"]})]})]})}function Ie(s){return e.jsxs("div",{className:"homeParentDiv",children:[e.jsx(L,{}),e.jsx(Le,{}),e.jsx(Fe,{}),e.jsx(K,{})]})}const Oe="/Olx-Clone/assets/olx-logo-22b715ba.png";function ke(){const{Firebase:s}=n.useContext(g),t=P(s),o=w(),[l,c]=n.useState({username:"",email:"",phone:"",password:""}),a=d=>{c({...l,[d.target.name]:d.target.value})},x=d=>{d.preventDefault(),le(t,l.email,l.password).then(i=>{ie(i.user,{displayName:l.username});const u={uid:i.user.uid,username:l.username,phone:l.phone};H(_,u).then(()=>{o("/")}).catch(r=>{alert(r.message),console.log(r)})}).catch(i=>{i.code==="auth/email-already-in-use"?alert("Email Already in Use"):i.code==="auth/invalid-email"?alert("Invalid Email"):i.code==="auth/weak-password"?alert("Weak Password"):console.log(i)})};return e.jsx("div",{children:e.jsxs("div",{className:"signupParentDiv",children:[e.jsx("img",{width:"200px",height:"200px",src:Oe}),e.jsxs("form",{onSubmit:d=>x(d),children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx("br",{}),e.jsx("input",{className:"input",type:"text",id:"username",name:"username",placeholder:"John",onChange:d=>a(d)}),e.jsx("br",{}),e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("br",{}),e.jsx("input",{className:"input",type:"email",id:"email",name:"email",placeholder:"john@mail.com",onChange:d=>a(d)}),e.jsx("br",{}),e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("br",{}),e.jsx("input",{className:"input",type:"number",id:"phone",name:"phone",placeholder:"98 76 45 32 10",onChange:d=>a(d)}),e.jsx("br",{}),e.jsx("label",{htmlFor:"lname",children:"Password"}),e.jsx("br",{}),e.jsx("input",{className:"input",type:"password",id:"password",name:"password",placeholder:"Tough Password",onChange:d=>a(d)}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{children:"Signup"})]}),e.jsx("a",{onClick:()=>o("/login"),children:"Already have an account?"})]})})}function Te(){return e.jsx("div",{children:e.jsx(ke,{})})}function He(){return e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fillRule:"evenodd",children:[e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})]})}const Ue=()=>{const[s,t]=n.useState({}),{Firebase:o}=n.useContext(g),{user:l}=n.useContext(y),c=w(),a={name:n.useRef(""),description:n.useRef(""),brand:n.useRef(""),type:n.useRef(""),price:n.useRef(""),location:n.useRef(""),image:n.useRef(null)},[x,d]=n.useState(null),i=r=>{const h=r.target.files[0];h&&!h.type.match(/image\/(png|jpeg|jpg)/)?(r.target.value=null,d("Please select an image file")):d(null)},u=r=>{if(r.preventDefault(),!l){alert("Please login to your account");return}console.log(a.image.current.value);const h=a.image.current.files[0];if(!h){d("Please select an image file");return}const m=ce(o),v={contentType:h.type},f=re(m,`Product_images/${h.name}`);oe(f,h,v).then(N=>{de(N.ref).then(z=>{const j={userName:l.displayName,userId:l.uid,name:a.name.current.value,category:s.name,description:a.description.current.value,price:a.price.current.value,location:a.location.current.value,image:z,createdAt:new Date().toDateString()};a.brand.current.value&&(j.brand=a.brand.current.value),a.type.current.value&&(j.type=a.type.current.value),console.log(j),De(j.location),H(R,j).then(()=>{alert("Product successfully uploaded"),c("/")}).catch(C=>{alert(C.message),console.log(C)})})}).catch(N=>console.log(N))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container centerDiv border-0",children:[e.jsx("h1",{className:"font-weight-bold",children:"POST YOUR AD"}),Object.keys(s).length===0&&e.jsx("section",{children:e.jsx("div",{className:"container",children:e.jsxs("table",{children:[e.jsx("caption",{style:{width:"max-content",captionSide:"top"},children:"CHOOSE A CATEGORY"}),e.jsx("tbody",{children:V.map((r,h)=>e.jsx("tr",{onClick:()=>t(r),children:e.jsxs("td",{className:"p-2",children:[e.jsx("i",{className:"ml-3 mr-3",children:r.icon}),e.jsx("span",{children:r.name})]})},h))})]})})}),Object.keys(s).length!==0&&e.jsx("section",{className:"addProduct",children:e.jsxs("div",{className:"container p-4",children:[e.jsxs("div",{className:"d-flex flex-row",children:[e.jsx("i",{className:"mr-3",onClick:()=>t({}),children:e.jsx(He,{})}),e.jsx("h4",{children:e.jsx("span",{children:s.name})})]}),e.jsxs("div",{className:"form d-flex flex-column",children:[e.jsx("h5",{children:"INCLUDE SOME DETAILS"}),!l&&e.jsx("label",{className:"text-danger",children:"Please Login to post your ad"}),e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{ref:a.name,type:"text",id:"name",name:"name",autoComplete:"true",required:!0}),e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("textarea",{className:"form-control",id:"description",name:"description",rows:"3",placeholder:"description of your product",ref:a.description}),s.brand&&e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"brand",children:"Brand"}),e.jsxs("select",{name:"brand",id:"brand",ref:a.brand,children:[e.jsx("option",{value:"none",children:"Other"}),s.brand.map((r,h)=>e.jsx("option",{value:r,children:r},h))]})]}),s.type&&e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"brand",children:"Type"}),e.jsxs("select",{name:"brand",id:"brand",ref:a.type,children:[e.jsx("option",{value:"none",children:"Other"}),s.type.map((r,h)=>e.jsx("option",{value:r,children:r},h))]})]}),e.jsx("label",{htmlFor:"price",children:"Price"}),e.jsx("input",{type:"number",min:"0",placeholder:"0.00",className:"price",id:"price",name:"price",ref:a.price}),e.jsx("label",{htmlFor:"location",children:"Location"}),e.jsx("input",{type:"text",name:"location",id:"location",ref:a.location,placeholder:"location of your product"}),e.jsx("label",{className:"form-label",htmlFor:"productImage",children:"Image"}),e.jsx("input",{ref:a.image,className:"form-control",type:"file",name:"productImage",id:"productImage",accept:"image/*",onChange:i}),x&&e.jsx("p",{className:"text-danger",children:x}),e.jsx("input",{onClick:u,type:"submit",value:"POST",className:"btn btn-primary mt-2",id:"postAdBtn",name:"postAdBtn"})]})]})})]})})},$e=()=>e.jsxs(n.Fragment,{children:[e.jsx(L,{}),e.jsx(Ue,{})]});function qe(){const s=w(),[t,o]=n.useState(),{postDetails:l,setPostDetails:c}=n.useContext(A),[a,x]=n.useState(!1);return n.useEffect(()=>{if(window.scrollTo(0,0),!l||Object.keys(l).length===0)s(-1);else{const d=l.userId,i=k(_,T("uid","==",d));M(i).then(u=>{u.forEach(r=>{o(r.data())})})}},[l]),e.jsxs("div",{className:"viewParentDiv",children:[e.jsxs("div",{className:"imageShowDiv",children:[e.jsx(me,{open:a,close:()=>x(!1),slides:[{src:l.image,alt:"image"}]}),e.jsx("img",{src:l.image,alt:"",onClick:()=>x(!0)})]}),e.jsxs("div",{className:"rightSection",children:[e.jsxs("div",{className:"productDetails",children:[e.jsxs("p",{children:["₹ ",l.price," "]}),e.jsx("span",{children:l.name}),e.jsx("p",{children:l.description}),e.jsx("span",{children:l.createdAt})]}),e.jsxs("div",{className:"contactDetails",children:[e.jsx("p",{children:"Seller details"}),e.jsx("p",{children:t&&t.username}),e.jsx("p",{children:t&&t.phone})]})]})]})}function Ve(s){return e.jsxs("div",{children:[e.jsx(L,{}),e.jsx(qe,{}),e.jsx(K,{})]})}function We(){const{user:s,setUser:t}=n.useContext(y),{Firebase:o}=n.useContext(g);return n.useEffect(()=>{const l=P(o);he(l,c=>{t(c)})},[s]),e.jsx("div",{children:e.jsx(J,{basename:"/Olx-Clone/",children:e.jsxs(xe,{children:[e.jsx(S,{path:"/",element:e.jsx(Ie,{})}),e.jsx(S,{path:"/signup",element:e.jsx(Te,{})}),e.jsx(S,{path:"/view",element:e.jsx(Ve,{})}),e.jsx(S,{path:"/post",element:e.jsx($e,{})})]})})})}const _e=X.createRoot(document.getElementById("root"));_e.render(e.jsx(Y.StrictMode,{children:e.jsx(g.Provider,{value:{Firebase:W},children:e.jsx(ve,{children:e.jsx(be,{children:e.jsx(Ae,{children:e.jsx(We,{})})})})})}));
