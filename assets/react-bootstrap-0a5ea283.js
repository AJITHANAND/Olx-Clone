import{c as p}from"./classnames-443a910e.js";import{r,a as te,j as i}from"./react-40402f93.js";import{t as ne,s as D,d as $e,e as Ie,q as M,r as Fe,f as ae,g as _e,c as He,o as We,h as oe}from"./dom-helpers-29a8c434.js";import{u as re,M as Ue,a as H,b as Ge,c as Ke,B as ze}from"./@restart-09a91c66.js";import{T as Ve,E as Xe,a as Ye}from"./react-transition-group-2a61f0a7.js";import{R as qe}from"./react-dom-8f3747d7.js";import{P as F}from"./prop-types-0d7f4af5.js";const Je=["xxl","xl","lg","md","sm","xs"],Pe="xs",le=r.createContext({prefixes:{},breakpoints:Je,minBreakpoint:Pe});function S(e,t){const{prefixes:a}=r.useContext(le);return e||a[t]||t}function Qe(){const{dir:e}=r.useContext(le);return e==="rtl"}function se(e,t){const a=D(e,t)||"",o=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*o}function Ze(e,t){const a=se(e,"transitionDuration"),o=se(e,"transitionDelay"),l=ne(e,s=>{s.target===e&&(l(),t(s))},a+o)}function et(e){e.offsetHeight}function tt(e){return e&&"setState"in e?qe.findDOMNode(e):e??null}const at=te.forwardRef(({onEnter:e,onEntering:t,onEntered:a,onExit:o,onExiting:l,onExited:s,addEndListener:f,children:c,childRef:d,...g},m)=>{const u=r.useRef(null),C=re(u,d),w=R=>{C(tt(R))},h=R=>T=>{R&&u.current&&R(u.current,T)},b=r.useCallback(h(e),[e]),E=r.useCallback(h(t),[t]),B=r.useCallback(h(a),[a]),k=r.useCallback(h(o),[o]),A=r.useCallback(h(l),[l]),j=r.useCallback(h(s),[s]),O=r.useCallback(h(f),[f]);return i.jsx(Ve,{ref:m,...g,onEnter:b,onEntered:B,onEntering:E,onExit:k,onExited:j,onExiting:A,addEndListener:O,nodeRef:u,children:typeof c=="function"?(R,T)=>c(R,{...T,ref:w}):te.cloneElement(c,{ref:w})})}),ot=at,st={[Xe]:"show",[Ye]:"show"},ie=r.forwardRef(({className:e,children:t,transitionClasses:a={},onEnter:o,...l},s)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},c=r.useCallback((d,g)=>{et(d),o==null||o(d,g)},[o]);return i.jsx(ot,{ref:s,addEndListener:Ze,...f,onEnter:c,childRef:t.ref,children:(d,g)=>r.cloneElement(t,{...g,className:p("fade",e,t.props.className,st[d],a[d])})})});ie.displayName="Fade";const de=ie,nt={"aria-label":F.string,onClick:F.func,variant:F.oneOf(["white"])},W=r.forwardRef(({className:e,variant:t,"aria-label":a="Close",...o},l)=>i.jsx("button",{ref:l,type:"button",className:p("btn-close",t&&`btn-close-${t}`,e),"aria-label":a,...o}));W.displayName="CloseButton";W.propTypes=nt;const rt=W,lt=e=>r.forwardRef((t,a)=>i.jsx("div",{...t,ref:a,className:p(t.className,e)})),it=e=>e[0].toUpperCase()+$e(e).slice(1);function U(e,{displayName:t=it(e),Component:a,defaultProps:o}={}){const l=r.forwardRef(({className:s,bsPrefix:f,as:c=a||"div",...d},g)=>{const m={...o,...d},u=S(f,e);return i.jsx(c,{ref:g,className:p(s,u),...m})});return l.displayName=t,l}const y={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class dt extends Ue{adjustAndStore(t,a,o){const l=a.style[t];a.dataset[t]=l,D(a,{[t]:`${parseFloat(D(a,t))+o}px`})}restore(t,a){const o=a.dataset[t];o!==void 0&&(delete a.dataset[t],D(a,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const a=this.getElement();if(Ie(a,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";M(a,y.FIXED_CONTENT).forEach(s=>this.adjustAndStore(o,s,t.scrollBarWidth)),M(a,y.STICKY_CONTENT).forEach(s=>this.adjustAndStore(l,s,-t.scrollBarWidth)),M(a,y.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(l,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const a=this.getElement();Fe(a,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";M(a,y.FIXED_CONTENT).forEach(s=>this.restore(o,s)),M(a,y.STICKY_CONTENT).forEach(s=>this.restore(l,s)),M(a,y.NAVBAR_TOGGLER).forEach(s=>this.restore(l,s))}}let _;function ct(e){return _||(_=new dt(e)),_}const ut=U("modal-body"),ft=r.createContext({onHide(){}}),ce=ft,ue=r.forwardRef(({bsPrefix:e,className:t,contentClassName:a,centered:o,size:l,fullscreen:s,children:f,scrollable:c,...d},g)=>{e=S(e,"modal");const m=`${e}-dialog`,u=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return i.jsx("div",{...d,ref:g,className:p(m,t,l&&`${e}-${l}`,o&&`${m}-centered`,c&&`${m}-scrollable`,s&&u),children:i.jsx("div",{className:p(`${e}-content`,a),children:f})})});ue.displayName="ModalDialog";const fe=ue,gt=U("modal-footer"),ht=r.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:a=!1,onHide:o,children:l,...s},f)=>{const c=r.useContext(ce),d=H(()=>{c==null||c.onHide(),o==null||o()});return i.jsxs("div",{ref:f,...s,children:[l,a&&i.jsx(rt,{"aria-label":e,variant:t,onClick:d})]})}),mt=ht,ge=r.forwardRef(({bsPrefix:e,className:t,closeLabel:a="Close",closeButton:o=!1,...l},s)=>(e=S(e,"modal-header"),i.jsx(mt,{ref:s,...l,className:p(t,e),closeLabel:a,closeButton:o})));ge.displayName="ModalHeader";const pt=ge,Rt=lt("h4"),Ct=U("modal-title",{Component:Rt});function Et(e){return i.jsx(de,{...e,timeout:null})}function Tt(e){return i.jsx(de,{...e,timeout:null})}const he=r.forwardRef(({bsPrefix:e,className:t,style:a,dialogClassName:o,contentClassName:l,children:s,dialogAs:f=fe,"aria-labelledby":c,"aria-describedby":d,"aria-label":g,show:m=!1,animation:u=!0,backdrop:C=!0,keyboard:w=!0,onEscapeKeyDown:h,onShow:b,onHide:E,container:B,autoFocus:k=!0,enforceFocus:A=!0,restoreFocus:j=!0,restoreFocusOptions:O,onEntered:R,onExit:T,onExiting:me,onEnter:G,onEntering:K,onExited:z,backdropClassName:V,manager:X,...pe},Re)=>{const[Ce,Ee]=r.useState({}),[Te,Y]=r.useState(!1),L=r.useRef(!1),$=r.useRef(!1),x=r.useRef(null),[v,Ne]=Ge(),Me=re(Re,Ne),q=H(E),ye=Qe();e=S(e,"modal");const xe=r.useMemo(()=>({onHide:q}),[q]);function J(){return X||ct({isRTL:ye})}function P(n){if(!He)return;const N=J().getScrollbarWidth()>0,ee=n.scrollHeight>We(n).documentElement.clientHeight;Ee({paddingRight:N&&!ee?oe():void 0,paddingLeft:!N&&ee?oe():void 0})}const I=H(()=>{v&&P(v.dialog)});Ke(()=>{ae(window,"resize",I),x.current==null||x.current()});const ve=()=>{L.current=!0},we=n=>{L.current&&v&&n.target===v.dialog&&($.current=!0),L.current=!1},Q=()=>{Y(!0),x.current=ne(v.dialog,()=>{Y(!1)})},De=n=>{n.target===n.currentTarget&&Q()},Se=n=>{if(C==="static"){De(n);return}if($.current||n.target!==n.currentTarget){$.current=!1;return}E==null||E()},be=n=>{w?h==null||h(n):(n.preventDefault(),C==="static"&&Q())},Be=(n,N)=>{n&&P(n),G==null||G(n,N)},ke=n=>{x.current==null||x.current(),T==null||T(n)},Ae=(n,N)=>{K==null||K(n,N),_e(window,"resize",I)},je=n=>{n&&(n.style.display=""),z==null||z(n),ae(window,"resize",I)},Oe=r.useCallback(n=>i.jsx("div",{...n,className:p(`${e}-backdrop`,V,!u&&"show")}),[u,V,e]),Z={...a,...Ce};Z.display="block";const Le=n=>i.jsx("div",{role:"dialog",...n,style:Z,className:p(t,e,Te&&`${e}-static`,!u&&"show"),onClick:C?Se:void 0,onMouseUp:we,"aria-label":g,"aria-labelledby":c,"aria-describedby":d,children:i.jsx(f,{...pe,onMouseDown:ve,className:o,contentClassName:l,children:s})});return i.jsx(ce.Provider,{value:xe,children:i.jsx(ze,{show:m,ref:Me,backdrop:C,container:B,keyboard:!0,autoFocus:k,enforceFocus:A,restoreFocus:j,restoreFocusOptions:O,onEscapeKeyDown:be,onShow:b,onHide:E,onEnter:Be,onEntering:Ae,onEntered:R,onExit:ke,onExiting:me,onExited:je,manager:J(),transition:u?Et:void 0,backdropTransition:u?Tt:void 0,renderBackdrop:Oe,renderDialog:Le})})});he.displayName="Modal";const St=Object.assign(he,{Body:ut,Header:pt,Title:Ct,Footer:gt,Dialog:fe,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{St as M};
